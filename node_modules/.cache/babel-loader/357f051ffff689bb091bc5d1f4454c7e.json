{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 5/react-project/src/contexts/RacesContext/RacesContext.js\";\nimport React, { createContext, Component } from 'react';\nexport const RacesContext = createContext();\n\nclass RacesContextProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allRaces: JSON.parse(localStorage.getItem('allRaces'))\n    };\n\n    this.getRaces = () => {\n      return JSON.parse(localStorage.getItem('allRaces'));\n    };\n\n    this.addRace = (name, type, date, distance) => {\n      let races = JSON.parse(localStorage.getItem('allRaces'));\n      let newRaces = [];\n\n      if (races) {\n        newRaces = [...races, {\n          name: name,\n          type: type,\n          date: date,\n          distance: distance\n        }];\n      } else {\n        newRaces = [...newRaces, {\n          name: name,\n          type: type,\n          date: date,\n          distance: distance\n        }];\n      }\n\n      this.setState({\n        allRaces: newRaces\n      });\n      localStorage.setItem('allRaces', JSON.stringify(newRaces));\n    };\n  }\n\n  render() {\n    return React.createElement(RacesContext.Provider, {\n      value: { ...this.state,\n        addRace: this.addRace,\n        getRaces: this.getRaces\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nexport default RacesContextProvider;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 5/react-project/src/contexts/RacesContext/RacesContext.js"],"names":["React","createContext","Component","RacesContext","RacesContextProvider","state","allRaces","JSON","parse","localStorage","getItem","getRaces","addRace","name","type","date","distance","races","newRaces","setState","setItem","stringify","render","props","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,QAAgD,OAAhD;AAEA,OAAO,MAAMC,YAAY,GAAGF,aAAa,EAAlC;;AAEP,MAAMG,oBAAN,SAAmCF,SAAnC,CAA6C;AAAA;AAAA;AAAA,SAEzCG,KAFyC,GAEjC;AACJC,MAAAA,QAAQ,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX;AADN,KAFiC;;AAAA,SAMzCC,QANyC,GAM9B,MAAM;AACb,aAAOJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAP;AACH,KARwC;;AAAA,SAUzCE,OAVyC,GAU/B,CAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,EAAmBC,QAAnB,KAAgC;AACtC,UAAIC,KAAK,GAAGV,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAZ;AACA,UAAIQ,QAAQ,GAAG,EAAf;;AACA,UAAID,KAAJ,EAAW;AACPC,QAAAA,QAAQ,GAAG,CAAC,GAAGD,KAAJ,EAAW;AAClBJ,UAAAA,IAAI,EAAEA,IADY;AAElBC,UAAAA,IAAI,EAAEA,IAFY;AAGlBC,UAAAA,IAAI,EAAEA,IAHY;AAIlBC,UAAAA,QAAQ,EAAEA;AAJQ,SAAX,CAAX;AAMH,OAPD,MAOO;AACHE,QAAAA,QAAQ,GAAG,CAAC,GAAGA,QAAJ,EAAc;AACrBL,UAAAA,IAAI,EAAEA,IADe;AAErBC,UAAAA,IAAI,EAAEA,IAFe;AAGrBC,UAAAA,IAAI,EAAEA,IAHe;AAIrBC,UAAAA,QAAQ,EAAEA;AAJW,SAAd,CAAX;AAMH;;AACD,WAAKG,QAAL,CAAc;AAAEb,QAAAA,QAAQ,EAAEY;AAAZ,OAAd;AACAT,MAAAA,YAAY,CAACW,OAAb,CAAqB,UAArB,EAAiCb,IAAI,CAACc,SAAL,CAAeH,QAAf,CAAjC;AACH,KA9BwC;AAAA;;AAgCzCI,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE,EAC1B,GAAG,KAAKjB,KADkB;AAE1BO,QAAAA,OAAO,EAAE,KAAKA,OAFY;AAG1BD,QAAAA,QAAQ,EAAE,KAAKA;AAHW,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKK,KAAKY,KAAL,CAAWC,QALhB,CADJ;AASH;;AA1CwC;;AA6C7C,eAAepB,oBAAf","sourcesContent":["import React, { createContext, Component } from 'react';\n\nexport const RacesContext = createContext();\n\nclass RacesContextProvider extends Component {\n\n    state = {\n        allRaces: JSON.parse(localStorage.getItem('allRaces'))\n    };\n\n    getRaces = () => {\n        return JSON.parse(localStorage.getItem('allRaces'));\n    }\n\n    addRace = (name, type, date, distance) => {\n        let races = JSON.parse(localStorage.getItem('allRaces'));\n        let newRaces = []\n        if (races) {\n            newRaces = [...races, {\n                name: name,\n                type: type,\n                date: date,\n                distance: distance\n            }]\n        } else {\n            newRaces = [...newRaces, {\n                name: name,\n                type: type,\n                date: date,\n                distance: distance\n            }]\n        }\n        this.setState({ allRaces: newRaces });\n        localStorage.setItem('allRaces', JSON.stringify(newRaces));\n    };\n\n    render() {\n        return (\n            <RacesContext.Provider value={{\n                ...this.state,\n                addRace: this.addRace,\n                getRaces: this.getRaces\n            }}>\n                {this.props.children}\n            </RacesContext.Provider>\n        );\n    }\n}\n\nexport default RacesContextProvider;\n"]},"metadata":{},"sourceType":"module"}